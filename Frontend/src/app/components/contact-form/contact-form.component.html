<div class="container">
    <h1>Kontakt hinzufügen</h1>
  <form #contactForm="ngForm">

    <mat-dialog-actions align="end" class="top-button">
      <button mat-raised-button color="primary" type="button" (click)="accordion.openAll()">Alle Felder öffnen</button>
      <button mat-raised-button color="primary" type="button" (click)="accordion.closeAll()">Alle Felder schließen</button>
    </mat-dialog-actions>

    <mat-accordion #accordion="matAccordion" [multi]="true">
      <mat-expansion-panel expanded="true">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Persönliche Daten
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Anrede" id="appellation"
          [(ngModel)]="contact.appellation"
          name="appellation">
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Briefanrede"
                 id="letterSalutation"
                 [(ngModel)]="contact.letterSalutation"
                 name="letterSalutation">
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Titel"
                 id="title"
                 [(ngModel)]="contact.title"
                 name="title">
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Nachgestellter Titel"
                 id="trailingTitle"
                 [(ngModel)]="contact.trailingTitle"
                 name="trailingTitle">
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Vorname"
                 id="firstname" required
                 [(ngModel)]="contact.firstName"
                 name="firstname">
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Nachname"
                 id="lastname" required
                 [(ngModel)]="contact.lastName"
                 name="lastname">
        </mat-form-field>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Kontaktdaten
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="form-group">
          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="E-Mail"
                   id="email" required
                   [(ngModel)]="contact.email"
                   name="email">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="2. E-Mail"
                   id="email2"
                   [(ngModel)]="contact.email2"
                   name="email2">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="1. Telefonnummer"
                   id="phone"
                   [(ngModel)]="contact.phone"
                   name="phone">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="2. Telefonnummer"
                   id="phone2"
                   [(ngModel)]="contact.phone2"
                   name="phone2">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="3. Telefonnummer"
                   id="phone3"
                   [(ngModel)]="contact.phone3"
                   name="phone3">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="4. Telefonnummer"
                   id="phone4"
                   [(ngModel)]="contact.phone4"
                   name="phone4">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="Fax"
                   id="fax"
                   [(ngModel)]="contact.fax"
                   name="fax">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="Homepage"
                   id="homepage"
                   [(ngModel)]="contact.homepage"
                   name="homepage">
          </mat-form-field>
        </div>
      </mat-expansion-panel>

      <!--  <div class="form-group">
        < <mat-form-field>
             <input matInput type="text" class="form-control" placeholder="Ansprechperson Standortagentur"
                    id="representativeID"
                    [(ngModel)]="contact.representativeID"
                    name="representativeID">
           </mat-form-field>

        </div> -->

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Anschrift
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Strasse"
                 id="street"
                 [(ngModel)]="contact.street"
                 name="street">
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Postleitzahl"
                 id="postCode"
                 [(ngModel)]="contact.postCode"
                 name="postcode">
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Ort"
                 id="place"
                 [(ngModel)]="contact.place"
                 name="place">
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" class="form-control" placeholder="Land"
                 id="country"
                 [(ngModel)]="contact.country"
                 name="country">
        </mat-form-field>

        <div class="single-mat-field">
          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="Region"
                   id="region"
                   [(ngModel)]="contact.region"
                   name="region">
          </mat-form-field>
        </div>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Organisation 1
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="form-group">
          <mat-form-field>
            <mat-select placeholder="Organisation 1" [(value)]="contact.account1" [compareWith]="compareById" name="organisation1">
              <mat-option *ngFor="let account of accounts" [value]="account">
                {{account.compName}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="Funktion" class="form-control" [(ngModel)]="contact.function1" name="function1">
          </mat-form-field>
        </div>

        <div class="single-mat-field">
          <mat-form-field>
            <input matInput placeholder="Abteilung"  class="form-control" [(ngModel)]="contact.department1" name="departmemt1">
          </mat-form-field>
        </div>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Organisation 2
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="form-group">
          <mat-form-field>
            <mat-select placeholder="Organisation 2" [(value)]="contact.account2" [compareWith]="compareById">
              <mat-option *ngFor="let account of accounts" [value]="account">
                {{account.compName}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="Funktion" class="form-control" [(ngModel)]="contact.function2" name="function2">
          </mat-form-field>
        </div>

        <div class="single-mat-field">
          <mat-form-field>
            <input matInput placeholder="Abteilung" class="form-control" [(ngModel)]="contact.department2" name="department2">
          </mat-form-field>
        </div>

      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Organisation 3
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="form-group">
          <mat-form-field>
            <mat-select placeholder="Organisation 3" [(value)]="contact.account3" [compareWith]="compareById">
              <mat-option *ngFor="let account of accounts" [value]="account">
                {{account.compName}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="Funktion" class="form-control" [(ngModel)]="contact.function3" name="function3">
          </mat-form-field>
        </div>

        <div class="single-mat-field">
          <mat-form-field>
            <input matInput placeholder="Abteilung" class="form-control" [(ngModel)]="contact.department3" name="department3">
          </mat-form-field>
        </div>

      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Notizen
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="single-mat-field">
          <mat-form-field>
            <mat-label>Notizen</mat-label>
            <textarea matInput
                      cdkTextareaAutosize
                      #autosize="cdkTextareaAutosize"
                      cdkAutosizeMinRows="1"
                      cdkAutosizeMaxRows="5">
          </textarea>
          </mat-form-field>
        </div>

      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Datenschutz
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div>
          <mat-checkbox [(ngModel)]="contact.dsvAnonymised" id="dsvAnonymised" name="Anonymised">Anonymisiert</mat-checkbox>
        </div>

        <div class="single-mat-field">
          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="Anonymisiert von"
                   id="dsvAnonymisedBy"
                   [(ngModel)]="contact.dsvAnonymisedBy"
                   name="dsvAnonymisedBy">
          </mat-form-field>
        </div>

        <div>
          <mat-form-field>
            <input matInput type="date" class="form-control" placeholder="Datenerhebung am"
                   id="dsvDataCollection"
                   [(ngModel)]="contact.dsvDataCollection"
                   name="dsvDataCollection">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="Datenherkunft"
                   id="dsvSourceOfData"
                   [(ngModel)]="contact.dsvSourceOfData"
                   name="dsvSourceOfData">
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-checkbox [(ngModel)]="contact.dsvDirectAdFlag" id="dsvDirectAdFlag" name="dsvDirectAdFlag">Direktwerbeverbot</mat-checkbox>
          <mat-checkbox [(ngModel)]="contact.dsvNotification" id="dsvNotification" name="dsvNotification">Person gem. Art.14 informiert</mat-checkbox>
        </div>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Zusätze
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="form-group">
          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="1. Zusatz"
                   id="additional"
                   [(ngModel)]="contact.additional"
                   name="additional">
          </mat-form-field>

          <mat-form-field>
            <input matInput type="text" class="form-control" placeholder="2. Zusatz"
                   id="additional2"
                   [(ngModel)]="contact.additional2"
                   name="additional2">
          </mat-form-field>

          <div class="single-mat-field">
            <mat-form-field>
              <input matInput type="text" class="form-control" placeholder="3. Zusatz"
                     id="additional3"
                     [(ngModel)]="contact.additional3"
                     name="additional3">
            </mat-form-field>
          </div>
        </div>

        <div class="form-group">
          <mat-checkbox [(ngModel)]="contact.freeFlag1" id="freeFlag1" name="freeFlag1">1. Freies Kennzeichen</mat-checkbox>
          <mat-checkbox [(ngModel)]="contact.freeFlag2" id="freeFlag2" name="freeFlag2">2. Freies Kennzeichen</mat-checkbox>
        </div>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Administration
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-form-field>
          <input matInput type=text class="formm-control" placeholder="Hinzugefügt von"
                 id="creatorID"
                 [(ngModel)]="contact.creatorID"
                 name="creatorID">
        </mat-form-field>

        <mat-form-field>
          <input matInput type=text class="formm-control" placeholder="Geändert von"
                 id="editedByID"
                 [(ngModel)]="contact.editedByID"
                 name="editedByID">
        </mat-form-field>

      </mat-expansion-panel>
    </mat-accordion>

    <mat-dialog-actions align="center">
      <button mat-raised-button color="primary" type="submit" (click)="onSubmit()">Speichern</button>
    </mat-dialog-actions>

  </form>
</div>
